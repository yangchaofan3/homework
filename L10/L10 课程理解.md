***Thinking1 Pointwise, Pairwise, Listwise三类方法，这三类排序方法有何区别***

> |           LTR            | 优点                                                         | 缺点                                                         |
> | :----------------------: | ------------------------------------------------------------ | ------------------------------------------------------------ |
> | Pointwise 单点法（预测） | 针对单一文档，每个文档为单独训练数据，算法简单，推荐系统使用较多 | 从单文档分类角度计算，忽略了文档之间的相对排序，无法对文档排序。 |
> |     Pairwise 配对法      | 只需要对所有文档对进行分类，得到文档集的顺序关系             | 只考虑每对文档之间的偏序关系，实际上，文档对并不是相互独立的。而且不同的查询拥有的文档对数目不同，结果会向拥有文档对较多的查询偏移。 |
> |     Listwise 列表法      | 将一个查询对应的所有搜索结果列表作为一个训练样本             | 对样本的整体性要求高，很难找到合适的目标来代替原有的优化目标，难找到合适的优化算法进行求解。 |
>





***Thinking2 排序模型按照结构划分，可以分为线性排序模型、树模型、深度学习模型，这些模型都有哪些典型的代表？***

**线性模型**

>  逻辑回归LR，引入自动二阶交叉特征的FM和FFM

**非线性树模型**

>  GBDT和GBDT+LR

**深度学习模型**

>  基于DNN模型的Wide&deep，DeepFM，NFM等



***Thinking3 NDCG如何计算***

> ​	NDCG表示归一化贴现累积收益，综合考虑模型排序结果和真实序列之间的关系，是最终使用的排序指标，计算公式为：
> $$
> NDCG_p = \frac{DCG_p}{IDCG_p}
> $$
> ​	其中，DCGp表示累计折损收益，是对累计增益CG在排序结果上赋予权重，越往后价值越低：
> $$
> IDCG_p=\sum^{p}_{i=1}{\frac{rel_i}{\log_2(i+1)}}
> $$
> ​	IDCGp表示理想情况下最大的DCG值，即按返回的rel值从大到小降序排列计算得到的DCG值：
> $$
> IDCG_p=\sum^{|REL|}_{i=1}{\frac{rel_i}{\log_2(i+1)}}
> $$
> 



***Thinking4 搜索排序和推荐系统的相同和不同之处有哪些？***

**相同之处**

> ​	搜索排序和推荐系统排序都以相似度高低作为排序的依据，原则上都是越相关的item排序结果越靠前。

**不同之处**

> ​	使用模型不同：推荐系统采用pointwise模型较多，预测出来的分数具有实际的物理意义，代表了预测目标用户可能点击item的概率。搜索排序更多采用pairwise对文档顺序两两比较，来决定先后顺序，而推荐排序同时还关注item的多样性，使得没有像搜索一样适合做pairwise的样本。
>
> ​	业务场景不同：推荐是发散、无意识的主动推荐，相比搜索而言排序的准确性不一定是最重要的决定因素，搜索基于某查询进行的结果排序，期望用户选中的在排序结果中是靠前的，属于有意识地被动推荐。



***Thinking5 Listwise排序模型能否应用到推荐系统中***

> ​	理论上可以，虽然推荐系统以主动推荐为主，不太关注item之间的相对顺序，更多采用了pointwise排序，但当客户有明确查询需求时，如搜索火锅，不希望看到麻辣烫或烤肉等无意义推荐内容出现，需要针对用户点击记录和query的相似度对item位置列表进行排序优化，可以用listwise学习数据样本，因此Listwise排序模型更适合推荐系统的搜索业务场景。此外还需要注意的是listwise比pointwise计算量大得多，需要trade off，这也是pointwise用得更多的原因。

