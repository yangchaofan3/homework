***Thinking1 电商定向广告和搜索广告有怎样的区别，算法模型是否有差别？***

> **区别**
>
> 1. 和主动搜索查询的用户相比定向广告下的用户没有明显意图
> 2. 用户来到淘宝之前，自己也没有特别明确的目标，平台只能结合用户既往历史行为、查询环境等做推荐
>
> **算法模型差异**
>
> ​	搜索广告模型主要以上节课Learning to Rank中的pointwise，pairwise，listwise思想为核心对相关程度做排序。同样地，定向广告算法模型注重多样性，挖掘用户更多的潜在需求，搜索广告模型注重顺序性，提高item和query的匹配准确度。



***Thinking2 定向广告都有哪些常见的使用模型，包括Attention机制模型？***

> ​	传统定向广告算法的模型大致演化流程为
>
> **LR线性模型**：人为特征构造+逻辑回归
>
>  **--> MLR混合逻辑回归（非线性模型）：**分而治之，用分段线性+级联，拟合更高维度的非线性组合特征，在LR基础上准确度和效率有所提升
>
>  **--> DNN（mlp）深度学习：**使用GPU处理复杂模型和更大数据集
>
> **--> DIN:** 淘宝在DNN基础上引入interest，选定部分的用户历史行为探索用户感兴趣的多个品类
>
>  **-->DIEN：**DIN的局限性在于用户的兴趣具有无序性和无规律性，因此考虑用户具体某个兴趣随时间演化的趋势预测
>
> **-->DSIN：**用户在相隔较远的两个时间点访问时感兴趣的item可能完全不同，参考youtube将半小时内的访问作为一个Session，学习每个Session内用户可能的兴趣items。



***Thinking3 DIN中的Attention机制思想和原理是怎样的？***

> **Attention机制**
>
> > ​	把用户历史行为特征进行embedding操作，视为对用户兴趣的表示，之后通过Attention Unit，对每个兴趣表示赋予不同权值，权值由用户历史行为和候选广告匹配计算得到，对应着洞察中用户兴趣的Diversity和Local Activation。
>
> **思想和原理**
>
> >  	DNN模型pooling时与候选广告相关的商品权重大一些，不相关的权重小一些。Activation Unit输出权重时不仅只考虑用户行为和候选广告的embedding向量，还有二者的外积。为方便计算要求用户行为表示向量和商品向量维度保持一致，权重计算公式如下：
> >
> > ![得分向量](https://github.com/yangchaofan3/homework/blob/master/L11/得分向量.PNG)
> >
> > ​	计算激活权重时不对点击序列的Attention分数归一化，直接将分数与对应商品的embedding向量做加权和，目的在于保留用户的兴趣强度。
>
> 

***Thinking4 DIEN相比于DIN有哪些创新？***

> **DIN的局限性**
>
> > 利用用户行为序列特征把所有历史行为都当作用户兴趣。
> >
> > 直接把行为当作用户兴趣的弊端：实际场景中行为之间很容易相互影响，不一定就能代表用户的真实兴趣。
> >
> > 用户的兴趣在不断进化，而DIN抽取到的兴趣之间保持独立，没有捕捉到兴趣的动态进化，如用户兴趣随季节变化、每日作息变化表现出来的趋势性特征。
>
> **DIEN的创新**
>
> > 通过在DIN模型基础上引入了序列模型AUGRU来模拟用户兴趣进化过程，主要表现在模型的embedding层和concatenate层之间嵌入Interest Evolving层，在这一层使用GRU结构抽取每一个时间片内用户的兴趣，再将兴趣串联起来形成进化的链条，从而能够用于模型学习兴趣的演化特征。



***Thinking5 DSIN关于Session的洞察是怎样的，如何对Session兴趣进行表达？***

> ​	参考Airbnb的做法，DSIN把用户行为按时间排序，以30min为一个时间段将用户行为切分成多个Session的序列，从会话视角来看，序列内的Session代表了用户的兴趣变化，即模型认为每个Session内部的行为是相近的，而在不同Session之间的差别很大。在全连接层之前，User画像和Embedding画像的embedding同前，用户行为序列由下到上分为切分层、会话内兴趣抽取层、会话间兴趣交互层和会话兴趣激活层。
>
> ​	用户各Session的兴趣向量通过带有Bias Encoding的Self-Attention机制提取，然后利用Bi-LSTM替代DIEN中的AUGRU对Session间交互建模获取带有Context的Session兴趣向量，最后利用Activation Unit学习权重即各种会话兴趣对目标item的影响。



***Thinking6 如果你来设计淘宝定向广告，会有哪些future work***

> ​	在本课的学习中，淘宝的定向广告模型发展遵循挖掘用户兴趣的原则，从兴趣特征的被动提取分析到随时间主动推导演化进行了一系列发展。
>
> ​	举一反三，下一阶段淘宝可以从更多元化的角度入手，例如DSIN的Session切分机制从30min的时间延长或缩短后做A/B test选择最佳的Session划分时长，也可以把划分依据变为按商品的type归类，如将T恤、靴子、啤酒界面停留5-10s，10-30s，30s-60s、1min以上的用户行为变量按顺序分别计入不同序列内的Session。
>
> ​	目前，DSIN的兴趣演化分析只考虑用户行为变量，与user画像和item画像独立进行，下一步还可以考虑后者的演化分析，如用户画像中收藏商品在Session序列中的演化趋势。也可以逆向推导，针对某件商品分析对其感兴趣的用户特征演化趋势，向符合预测特征的用户投放定向广告。